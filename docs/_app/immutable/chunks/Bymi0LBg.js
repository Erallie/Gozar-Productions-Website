import{S as E,ac as U,ad as q,ae as y,af as K,a as w,ag as v,s as _,g as x,X as Y,ah as B,O as C,V as G,D as H,I as O,a4 as J,E as V,ai as X,aj as Z,a3 as $,a2 as D,ak as A,F as k,al as j,J as z,am as Q,an as W,u as p,ao as ee,ap as re,R as te,G as F,m as ae}from"./BHpofqVJ.js";import{s as ie,g as ne}from"./BLfAxaUO.js";function h(r,l=null,d){if(typeof r!="object"||r===null||E in r)return r;const u=C(r);if(u!==U&&u!==q)return r;var a=new Map,f=G(r),g=y(0);f&&a.set("length",y(r.length));var o;return new Proxy(r,{defineProperty(s,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&B();var n=a.get(e);return n===void 0?(n=y(t.value),a.set(e,n)):_(n,h(t.value,o)),!0},deleteProperty(s,e){var t=a.get(e);if(t===void 0)e in s&&a.set(e,y(v));else{if(f&&typeof e=="string"){var n=a.get("length"),i=Number(e);Number.isInteger(i)&&i<n.v&&_(n,i)}_(t,v),L(g)}return!0},get(s,e,t){var b;if(e===E)return r;var n=a.get(e),i=e in s;if(n===void 0&&(!i||(b=x(s,e))!=null&&b.writable)&&(n=y(h(i?s[e]:v,o)),a.set(e,n)),n!==void 0){var c=w(n);return c===v?void 0:c}return Reflect.get(s,e,t)},getOwnPropertyDescriptor(s,e){var t=Reflect.getOwnPropertyDescriptor(s,e);if(t&&"value"in t){var n=a.get(e);n&&(t.value=w(n))}else if(t===void 0){var i=a.get(e),c=i==null?void 0:i.v;if(i!==void 0&&c!==v)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return t},has(s,e){var c;if(e===E)return!0;var t=a.get(e),n=t!==void 0&&t.v!==v||Reflect.has(s,e);if(t!==void 0||Y!==null&&(!n||(c=x(s,e))!=null&&c.writable)){t===void 0&&(t=y(n?h(s[e],o):v),a.set(e,t));var i=w(t);if(i===v)return!1}return n},set(s,e,t,n){var m;var i=a.get(e),c=e in s;if(f&&e==="length")for(var b=t;b<i.v;b+=1){var N=a.get(b+"");N!==void 0?_(N,v):b in s&&(N=y(v),a.set(b+"",N))}i===void 0?(!c||(m=x(s,e))!=null&&m.writable)&&(i=y(void 0),_(i,h(t,o)),a.set(e,i)):(c=i.v!==v,_(i,h(t,o)));var R=Reflect.getOwnPropertyDescriptor(s,e);if(R!=null&&R.set&&R.set.call(n,t),!c){if(f&&typeof e=="string"){var S=a.get("length"),I=Number(e);Number.isInteger(I)&&I>=S.v&&_(S,I+1)}L(g)}return!0},ownKeys(s){w(g);var e=Reflect.ownKeys(s).filter(i=>{var c=a.get(i);return c===void 0||c.v!==v});for(var[t,n]of a)n.v!==v&&!(t in s)&&e.push(t);return e},setPrototypeOf(){K()}})}function L(r,l=1){_(r,r.v+l)}function ue(r,l,d=!1){O&&J();var u=r,a=null,f=null,g=v,o=d?V:0,s=!1;const e=(n,i=!0)=>{s=!0,t(i,n)},t=(n,i)=>{if(g===(g=n))return;let c=!1;if(O){const b=u.data===X;!!g===b&&(u=Z(),$(u),D(!1),c=!0)}g?(a?A(a):i&&(a=k(()=>i(u))),f&&j(f,()=>{f=null})):(f?A(f):i&&(f=k(()=>i(u))),a&&j(a,()=>{a=null})),c&&D(!0)};H(()=>{s=!1,l(e),s||t(null,null)},o),O&&(u=z)}function M(r,l){return r===l||(r==null?void 0:r[E])===l}function le(r={},l,d,u){return Q(()=>{var a,f;return W(()=>{a=f,f=[],p(()=>{r!==d(...f)&&(l(r,...f),a&&M(d(...a),r)&&l(null,...a))})}),()=>{ee(()=>{f&&M(d(...f),r)&&l(null,...f)})}}),r}let T=!1,P=Symbol();function ce(r,l,d){const u=d[l]??(d[l]={store:null,source:ae(void 0),unsubscribe:F});if(u.store!==r&&!(P in d))if(u.unsubscribe(),u.store=r??null,r==null)u.source.v=void 0,u.unsubscribe=F;else{var a=!0;u.unsubscribe=ie(r,f=>{a?u.source.v=f:_(u.source,f)}),a=!1}return r&&P in d?ne(r):w(u.source)}function de(){const r={};function l(){re(()=>{for(var d in r)r[d].unsubscribe();te(r,P,{enumerable:!1,value:!0})})}return[r,l]}function ve(r){var l=T;try{return T=!1,[r(),T]}finally{T=l}}export{ce as a,le as b,ve as c,ue as i,h as p,de as s};

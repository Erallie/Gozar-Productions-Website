import{q as N,l as o,O as I,E as A,P as R,Q as S,R as D,T as v,V as p,v as h,W as g,U,y as O,X as q,Y as w,w as y,Z as x,i as F,D as L}from"./Dpa4uJhH.js";import{s as P,g as Y}from"./DDyRH_IU.js";function C(s,a,n=!1){o&&I();var e=s,r=null,i=null,u=U,T=n?A:0,l=!1;const E=(c,t=!0)=>{l=!0,b(t,c)},b=(c,t)=>{if(u===(u=c))return;let d=!1;if(o){const m=e.data===R;!!u===m&&(e=S(),D(e),v(!1),d=!0)}u?(r?p(r):t&&(r=h(()=>t(e))),i&&g(i,()=>{i=null})):(i?p(i):t&&(i=h(()=>t(e))),r&&g(r,()=>{r=null})),d&&v(!0)};N(()=>{l=!1,a(E),l||b(null,null)},T),o&&(e=O)}let f=!1,_=Symbol();function H(s,a,n){const e=n[a]??(n[a]={store:null,source:x(void 0),unsubscribe:y});if(e.store!==s&&!(_ in n))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=y;else{var r=!0;e.unsubscribe=P(s,i=>{r?e.source.v=i:L(e.source,i)}),r=!1}return s&&_ in n?Y(s):F(e.source)}function M(){const s={};function a(){q(()=>{for(var n in s)s[n].unsubscribe();w(s,_,{enumerable:!1,value:!0})})}return[s,a]}function Q(s){var a=f;try{return f=!1,[s(),f]}finally{f=a}}export{H as a,Q as c,C as i,M as s};
